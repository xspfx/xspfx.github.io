<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Edusphere</title>
  <style>
    :root {
      --background: #0d0d0d;
      --card-bg: rgba(18,18,22,0.6);
      --text: #e0e0e0;
      --muted: #9ca3af;
      --primary-color: #ff00ff; /* cyberpunk lila */
      --accent-color: #00fff7;  /* neonblau */
      --max-width: 950px;
    }

    * { margin:0; padding:0; box-sizing:border-box; }
    html, body { height:100%; }

    body {
      font-family: "Inter", system-ui, sans-serif;
      background: var(--background);
      color: var(--text);
      display:flex;
      flex-direction:column;
      min-height:100vh;
      overflow-x:hidden;
    }

    /* Canvas Hintergrund */
    #wave-bg {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
      display: block;
    }

    /* Content über Canvas */
    header, main, footer {
      position: relative;
      z-index: 1;
    }

    header {
      text-align:center;
      margin:2rem auto 1.5rem;
    }

    /* Cyberpunk Glitch Effekt für Titel */
    header h1 {
      font-size:3rem;
      font-weight:900;
      color: var(--accent-color);
      position: relative;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      animation: glitch-skew 2s infinite linear alternate-reverse;
    }

    header h1::before,
    header h1::after {
      content: "Edusphere";
      position: absolute;
      left: 0;
      width: 100%;
      overflow: hidden;
      color: var(--primary-color);
      clip: rect(0, 900px, 0, 0);
    }

    header h1::before {
      animation: glitch-top 3s infinite linear alternate-reverse;
      text-shadow: 2px 0 var(--primary-color);
    }
    header h1::after {
      animation: glitch-bottom 2.5s infinite linear alternate-reverse;
      text-shadow: -2px 0 var(--accent-color);
    }

    @keyframes glitch-skew {
      0% { transform: skew(0deg); }
      20% { transform: skew(1deg); }
      40% { transform: skew(-1deg); }
      60% { transform: skew(0.5deg); }
      80% { transform: skew(-0.5deg); }
      100% { transform: skew(0deg); }
    }

    @keyframes glitch-top {
      0% { clip: rect(0, 9999px, 0, 0); }
      10% { clip: rect(0, 9999px, 5px, 0); }
      20% { clip: rect(0, 9999px, 15px, 0); }
      40% { clip: rect(0, 9999px, 8px, 0); }
      60% { clip: rect(0, 9999px, 20px, 0); }
      80% { clip: rect(0, 9999px, 3px, 0); }
      100% { clip: rect(0, 9999px, 0, 0); }
    }

    @keyframes glitch-bottom {
      0% { clip: rect(100px, 9999px, 100px, 0); }
      20% { clip: rect(80px, 9999px, 120px, 0); }
      40% { clip: rect(110px, 9999px, 140px, 0); }
      60% { clip: rect(90px, 9999px, 130px, 0); }
      80% { clip: rect(100px, 9999px, 150px, 0); }
      100% { clip: rect(100px, 9999px, 100px, 0); }
    }

    .card {
      background: var(--card-bg);
      border-radius: 14px;
      padding: 1.5rem;
      margin: 0 auto 1.5rem;
      max-width: var(--max-width);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255,255,255,0.08);
    }

    footer {
      margin-top:auto;
      text-align:center;
      color: var(--muted);
      font-size:0.9rem;
      padding:1rem 0;
      position: relative;
    }
    footer small {
      display:block;
      font-size:0.75rem;
      margin-top:0.3rem;
      color: var(--muted);
    }
  </style>
</head>
<body>
  <!-- Canvas -->
  <canvas id="wave-bg"></canvas>

  <header>
    <h1>Edusphere</h1>
  </header>

  <main class="card" role="main">
    <p>Manifest-Inhalt wird hier geladen …</p>
  </main>

  <footer>
    &copy; 2025 Edusphere – Für eine neue Aufklärung
    <small id="version">Version …</small>
  </footer>

  <script>
    // --- Canvas Setup ---
    const canvas = document.getElementById("wave-bg");
    const ctx = canvas.getContext("2d", { alpha: true });
    let w, h, dpr;

    function resizeCanvas() {
      dpr = window.devicePixelRatio || 1;
      canvas.width = window.innerWidth * dpr;
      canvas.height = window.innerHeight * dpr;
      canvas.style.width = window.innerWidth + "px";
      canvas.style.height = window.innerHeight + "px";
      ctx.setTransform(dpr,0,0,dpr,0,0);
      w = window.innerWidth;
      h = window.innerHeight;
    }
    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();

    // --- Wellen: nur vertikal schwingen, kein horizontaler Lauf ---
    const waves = [
      { amplitude: 80, frequency: 0.003, speed: 1.5, color: "#ff00ff" },
      { amplitude: 60, frequency: 0.002, speed: 1.0, color: "#00fff7" }
    ];

    const BIG_BLUR = 180;

    function drawWaves(t) {
      ctx.clearRect(0,0,w,h);
      ctx.globalCompositeOperation = "lighter";

      waves.forEach(wv => {
        ctx.beginPath();
        const step = 3; // Schrittweite in Pixel
        for (let x=0; x<=w; x+=step) {
          // Nur vertikale Schwingung, Zeitabhängig -> pulsieren
          const y = h/2 + Math.sin(x * wv.frequency + t*0.001*wv.speed) * wv.amplitude;
          if (x===0) ctx.moveTo(x,y);
          else ctx.lineTo(x,y);
        }
        ctx.strokeStyle = wv.color;
        ctx.globalAlpha = 0.35;
        ctx.lineWidth = 4;
        ctx.shadowBlur = BIG_BLUR;
        ctx.shadowColor = wv.color;
        ctx.stroke();
      });

      requestAnimationFrame(drawWaves);
    }
    requestAnimationFrame(drawWaves);

    // --- Version aus JSON laden ---
    async function loadVersion() {
      try {
        const res = await fetch("./version.json", {cache:"no-cache"});
        if(res.ok) {
          const data = await res.json();
          document.getElementById("version").textContent = "Version " + data.version;
        }
      } catch(e) {
        document.getElementById("version").textContent = "Version ?";
      }
    }
    loadVersion();
  </script>
</body>
</html>
